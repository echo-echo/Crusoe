<template name = "profile">

  {{> writeMessage}}

 <div class="row">
    <div class="col s12">
      <ul class="tabs">
        <li class="tab col s3"><a href="#test1" class="active"><h5>My Messages</h5></a></li>
        <li class="tab col s3"><a href="#test2"><h5>Saved Messages</h5></a></li>
      </ul>
    </div>

    <div id="test1" class="col s12">
	    <div class = "user-messages">
				<h5>{{currentUser.username}}'s messages</h5>
					<ul class = "collection">
						{{#each userCreated}}
			    		{{> userMessages}}
			  		{{/each}}
					</ul>
			</div>
    </div>
    <div id="test2" class="col s12">
    	<div class = "saved-messages">
				<h5>{{currentUser.username}}'s tagged messages</h5>
				<ul class = "collection">
					{{#each taggedMessages}}
		    		{{> tagged}}
		  		{{/each}}
				</ul>
			</div>
    </div>
 </div>

 {{>confirmDelete}}
 {{>promptDelete}}
 {{>error}}

</template>

<template name = "tagged">
	<li class = "profile-list collection-item">
    <span data-livestamp="{{createdAt}}"></span>
	  <p>{{origin}}</p>
	  <p class="text">{{text}}</p>
	  <span class="mdi-content-drafts"> {{opens}}</span>
	  <span class="mdi-action-thumb-up"> {{likes.length}}</span>
	</li>
</template>
<template name = "userMessages">
  <li class = "profile-list collection-item">
    <span data-livestamp="{{createdAt}}"></span>
    <p>{{origin}}</p>
    <p class="text">{{text}}</p>
    <span class="mdi-content-drafts"> {{opens}}</span>
    <span class="mdi-action-thumb-up"> {{likes.length}}</span>
    <span id="delete" class="mdi-action-delete"></span>
  </li>
</template>

<template name = "confirmDelete">
  <div id="confirmation" class="modal c-modal modal-box">
    <a href="#" class="right modal-close">close</a>
    <h4>Your message has been deleted</h4>
  </div>
</template>
<template name = "promptDelete">
  <div id="promptDelete" class="modal c-modal modal-box">
    <a href="#" class="right modal-close">close</a>
    <h4>Are you sure you want to Delete this message?</h4>
    <button id="confirmDeletion">Delete</button>
    <button class="modal-close">Cancel</button>
  </div>
</template>

<template name = "error">
  <div id="error" class="modal c-modal modal-box">
    <a href="#" class="right modal-close">close</a>
    <h4>There was an error with your request. Message was not deleted</h4>
  </div>
</template>
